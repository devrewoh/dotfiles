# ~/.zshrc: executed by zsh for interactive shells
# Enhanced to match Ubuntu bash cosmetics and history

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# History configuration (equivalent to Ubuntu bash)
HISTFILE=~/.zsh_history
HISTSIZE=1000
SAVEHIST=2000

# Zsh history options (equivalent to Ubuntu's HISTCONTROL=ignoreboth + shopt -s histappend)
setopt APPEND_HISTORY        # Append to history file (like shopt -s histappend)
setopt SHARE_HISTORY         # Share history between sessions  
setopt HIST_IGNORE_DUPS      # Don't record duplicates (like HISTCONTROL=ignoreboth)
setopt HIST_IGNORE_SPACE     # Don't record lines starting with space
setopt HIST_VERIFY           # Show command before executing from history

# Enable colors for ls and grep (equivalent to Ubuntu's dircolors setup)
export CLICOLOR=1
export LSCOLORS=ExFxCxDxBxegedabagacad

# Colored ls and grep (equivalent to Ubuntu's color setup)
if command -v gls >/dev/null 2>&1; then
    # Use GNU ls if available (from coreutils via MacPorts)
    alias ls='gls --color=auto'
else
    # Use BSD ls with colors
    alias ls='ls -G'
fi

alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'  
alias egrep='egrep --color=auto'

# Colored prompt (equivalent to Ubuntu's green user@host + blue directory)
autoload -U colors && colors
PS1="%{$fg[green]%}%n@%m%{$reset_color%}:%{$fg[blue]%}%~%{$reset_color%}$ "

# Terminal title (equivalent to Ubuntu's xterm title setting)
case "$TERM" in
    xterm*|rxvt*|screen*)
        precmd() {
            print -Pn "\e]0;%n@%m: %~\a"
        }
        ;;
esac

# Enable zsh completions (equivalent to Ubuntu's bash-completion)
autoload -Uz compinit
compinit

# Make completions case-insensitive and show menu
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Za-z}'
zstyle ':completion:*' menu select
